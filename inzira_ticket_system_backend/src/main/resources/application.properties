dotenv.enabled=true

spring.application.name=inzira-ticket-system-backend
# =================================
#MYSQL Database connection
# =================================
# spring.datasource.url=jdbc:mysql://localhost:3306/inzira
# spring.datasource.username=root
# spring.datasource.password=
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# Database connection (set via env to switch vendors)
# Examples:
#  PostgreSQL: DB_URL=jdbc:postgresql://host:5432/db?sslmode=require
#  MySQL:      DB_URL=jdbc:mysql://host:3306/db

# =================================
# DATABASE CONFIGURATION (Supabase)
# =================================
# Environment variables (from .env or system env)
# Example Supabase: 
#   DB_URL=jdbc:postgresql://db.[project_id].supabase.co:5432/postgres
#   DB_USERNAME=postgres
#   DB_PASSWORD=your-password

spring.datasource.url=${DB_URL:jdbc:h2:file:./data/inzira;DB_CLOSE_DELAY=-1;MODE=PostgreSQL}
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:}
# spring.datasource.url=jdbc:postgresql://aws-1-us-east-2.pooler.supabase.com:5432/postgres?sslmode=require
# spring.datasource.username=postgres.[project_id]
# spring.datasource.password=[password]
spring.datasource.driver-class-name=org.postgresql.Driver

# =================================
# H2 Console (only used if H2 is fallback)
# =================================
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# =================================
# JPA / Hibernate
# =================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
# spring.jpa.show-sql=true   # Uncomment if you want to see queries

# =================================
# File upload location
# =================================
file.upload-dir=uploads

# =================================
# JWT Configuration
# =================================
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000

# =================================
# Payment Configuration
# =================================
# Stripe Configuration (Card Payments)
stripe.secret.key=${STRIPE_SECRET_KEY}
stripe.publishable.key=${STRIPE_PUBLIC_KEY}
stripe.webhook.secret=${STRIPE_WEBHOOK_SECRET}

# Cash payments are processed immediately for agent bookings
# No additional configuration needed for cash payments

# =================================
# CORS Configuration
# =================================
# app.cors.allowed-origins can be comma-separated (supports wildcard patterns)
# app.cors.allowed-origins=http://localhost:5173,https://inzira.example.com,https://*.vercel.app
#app.cors.allowed-origins=*
#app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS

# Actuator exposure (needed for container healthcheck)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true
management.endpoint.health.show-details=when_authorized
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true
# =================================
#FILE UPLOAD
#================================
file.upload-dir=uploads
spring.servlet.multipart.max-file-size=10MB